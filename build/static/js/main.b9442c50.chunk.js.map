{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","put","Notification","_ref","notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","react_default","a","createElement","style","Filter","_ref2","filter","handleChange","value","onChange","PersonForm","_ref3","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","_ref4","person","removePerson","name","number","onClick","Persons","_ref5","persons","toLowerCase","includes","map","App_Person","key","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setNotificaiton","useEffect","personService","initialPersons","notify","setTimeout","personObject","returnedPerson","catch","error","updatePerson","p","App_Notification","App_Filter","event","target","App_PersonForm","preventDefault","find","undefined","window","confirm","App_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b9442c50.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, remove, update}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Notification = ({notification}) => {\n  if (notification.message === null) {\n    return null\n  }\n\n  const notificationStyle = {\n    color: `${notification.color}`,\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {notification.message}\n    </div>\n  )\n}\n\nconst Filter = ({filter, handleChange}) =>\n  <div>\n    rajaa näytettäviä\n    <input \n      value={filter} \n      onChange={handleChange}\n    />\n  </div>\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) =>\n  <form onSubmit={addPerson}>\n    <div>\n      nimi: \n      <input \n        value={newName}\n        onChange={handleNameChange}\n      />\n    </div>\n    <div>\n      numero:\n      <input\n        value={newNumber}\n        onChange={handleNumberChange}\n      />\n    </div>\n    <div>\n      <button type=\"submit\">lisää</button>\n    </div>\n  </form>\n\nconst Person = ({person, removePerson}) => \n  <div>\n      <span>{person.name} {person.number}</span>\n      <button onClick={() => removePerson(person)}>poista</button>\n  </div>\n\nconst Persons = ({persons, filter, removePerson}) =>\n  <div>\n    {persons\n      .filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n      .map((person) => \n        <Person \n          key={person.id} \n          person={person} \n          persons={persons}\n          removePerson={removePerson}\n        />)}\n  </div>\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notification, setNotificaiton] = useState({message: null, color: 'green'})\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  const addOrUpdatePerson = (event) => {\n    event.preventDefault()\n    const personObject = { name: newName, number: newNumber }\n    const person = persons.find(person => person.name === newName)\n\n    if (person !== undefined) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        updatePerson(person.id, personObject)\n      }\n    }\n    else {\n      addPerson(personObject)\n    }\n    \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const notify = (message, color) => {\n    setNotificaiton({message: message, color: color})\n    setTimeout(() => setNotificaiton({message: null, color: 'green'}), 3000)\n  }\n\n  const removePerson = person => {\n    if (window.confirm(`Poistetaanko ${person.name}`)) {\n      personService\n        .remove(person.id)\n          .then(() => {setPersons(persons.filter(p => p.id !== person.id))})\n          .then(() => notify(`Poistettiin ${person.name}`, 'green'))\n    }\n  }\n\n  const addPerson = personObject =>\n    personService\n      .create(personObject)\n        .then(returnedPerson => setPersons(persons.concat(returnedPerson)))\n        .then(() => notify(`Lisättiin ${personObject.name}`, 'green'))\n        .catch(error => notify(error.response.data.error, 'red'))\n\n  const updatePerson = (id, personObject) =>\n    personService\n      .update(id, personObject)\n        .then(returnedPerson =>\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson)))\n        .then(() => \n          notify(`Päivitettiin seuraavan henkilön numero: ${personObject.name}`, 'green'))\n        .catch(error => {\n          notify(`Henkilö ${personObject.name} on jo poistettu`, 'red')\n          setPersons(persons.filter(p => p.name !== personObject.name))\n        })\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification notification={notification} />\n      <Filter filter={filter} handleChange={handleFilterChange} />\n      <h2>lisää uusi</h2>\n      <PersonForm\n        addPerson={addOrUpdatePerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numerot</h2>\n      <Persons persons={persons} filter={filter} removePerson={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}